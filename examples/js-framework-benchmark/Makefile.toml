extend = [
  { path = "../cargo-make/main.toml" },
  { path = "../cargo-make/wasm-test.toml" },
  { path = "../cargo-make/trunk_server.toml" },
]

[tasks.build]
dependencies = ["cargo-all-features"]
command = "cargo"
args = ["all-features", "build", "--target", "wasm32-unknown-unknown"]

[tasks.check]
dependencies = ["cargo-all-features"]
command = "cargo"
args = ["all-features", "clippy", "--target", "wasm32-unknown-unknown"]

[tasks.pre-clippy]
env = { CARGO_MAKE_CLIPPY_ARGS = "--all-targets --all-features --target wasm32-unknown-unknown -- -D warnings" }
